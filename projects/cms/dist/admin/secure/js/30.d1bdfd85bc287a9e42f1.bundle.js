(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{420:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(1),i=n(0),c=n.n(i),o=n(21),l=n(38),s=n.n(l),u=n(60),f=n(9),d=n(2),b=n(8),j=n(47),m=n.n(j),g=n(229),p=n(32);n(104),n(99),n(50),n(106),n(76),n(93),n(110),n(49),n(75),n(108),n(48),n(105),n(107),c.a.memo((function(e){var t=Object.assign({},e);return c.a.createElement("svg",Object.assign({width:"220",height:"220",xmlns:"http://www.w3.org/2000/svg"},t),c.a.createElement("title",null,"KeystoneJS Logo"),c.a.createElement("defs",null,c.a.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"50%",y2:"71.921%",id:"logo-svg-gradient"},c.a.createElement("stop",{stopColor:"#5AE8FA",offset:"0%"}),c.a.createElement("stop",{stopColor:"#2684FF",offset:"100%"}))),c.a.createElement("path",{d:"M290.136 47H407.58c17.83 0 24.297 1.857 30.815 5.343 6.519 3.486 11.634 8.602 15.12 15.12 3.487 6.519 5.343 12.984 5.343 30.815v117.444c0 17.83-1.856 24.296-5.343 30.815-3.486 6.518-8.601 11.634-15.12 15.12-6.518 3.486-12.984 5.343-30.815 5.343H290.136c-17.83 0-24.296-1.857-30.815-5.343-6.518-3.486-11.634-8.602-15.12-15.12-3.486-6.519-5.343-12.984-5.343-30.815V98.278c0-17.83 1.857-24.296 5.343-30.815 3.486-6.518 8.602-11.634 15.12-15.12C265.84 48.857 272.305 47 290.136 47zm11.762 56.76V218h25.12v-36.8l14.4-14.56 34.4 51.36h31.52l-48.96-69.12 44.64-45.12h-31.36l-44.64 47.36v-47.36h-25.12z",transform:"translate(-238.858 -47)",fill:"url(#logo-svg-gradient)",fillRule:"evenodd"}))})),n(27),n(15),n(109),n(111);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query User {\n      "," {\n        _label_\n        id\n      }\n    }\n  "]);return h=function(){return e},e}function x(e){var t=e.listKey,n=e.value,i=e.onAddUser,c=e.many,l=e.isDisabled,u="authenticated"+t,j=Object(o.c)(s()(h(),u)).data;if(j&&j[u]){var g=j[u].id;if(null!==n&&(c?n.some((function(e){return e.id===g})):n.id===g))return null;var p="".concat(c?"Add":"Set as"," ").concat(j[u]._label_);return Object(r.jsx)(m.a,{placement:"top",content:p},(function(e){return Object(r.jsx)(b.IconButton,{css:Object(a.a)({marginLeft:d.gridSize},""),variant:"ghost",ref:e,onClick:function(){i(j[u])},icon:f.PersonIcon,"aria-label":p,isDisabled:l})}))}return null}function w(e){var t,n=e.field,i=e.value,c=n.config,o=c.many,l=c.ref,s=n.adminMeta,u=s.adminPath,j=(0,s.getListByKey)(l),g=!1,p="".concat(u,"/").concat(j.path);return o?(t="View List of Related Items",i.length||(g=!0),p="".concat(p,'?!id_in="').concat(i.slice(0,100).map((function(e){return e.id})).join(","),'"')):(t="View Item Details",i?p="".concat(p,"/").concat(i.id):g=!0),Object(r.jsx)(m.a,{placement:"top",content:t},(function(e){return Object(r.jsx)(b.IconButton,{ref:e,icon:f.LinkExternalIcon,"aria-label":t,variant:"ghost",css:Object(a.a)({marginLeft:d.gridSize},""),target:"_blank",to:p,isDisabled:g})}))}function C(e){var t,n=e.field,c=e.item,o=e.onCreate,l=e.CreateItemModal,s=e.isDisabled,u=Object(p.b)(),j=u.list,g=u.openCreateItemModal,O=n.adminMeta.getListByKey(n.config.ref),h="Create and add ".concat(O.singular);return c&&c.id&&(t=O.fields.filter((function(e){return"Relationship"===e.type&&e.config.ref===j.key&&e.config.refFieldPath===n.path})).reduce((function(e,t){var n={_label_:c._label_||"<link to parent>",id:c.id};return v(v({},e),{},y({},t.path,t.config.many?[n]:n))}),{})),Object(r.jsx)(i.Fragment,null,Object(r.jsx)(m.a,{placement:"top",content:h},(function(e){return Object(r.jsx)(b.IconButton,{ref:e,onClick:g,icon:f.PlusIcon,"aria-label":h,variant:"ghost",css:Object(a.a)({marginLeft:d.gridSize},""),isDisabled:s})})),Object(r.jsx)(l,{prefillData:t,onCreate:function(e){var t=e.data;o(t[O.gqlNames.createMutationName])}}))}var D={name:"1rr4qq7",styles:"flex:1;"};t.default=function(e){var t=e.autoFocus,n=e.field,a=e.value,i=e.renderContext,c=e.errors,o=e.onChange,l=e.item,s=e.list,f=e.CreateItemModal,d=e.isReadOnly,b=n.config,j=b.many,m=b.ref,O=n.adminMeta.authStrategy,v="ks-input-".concat(n.path),y=n.adminMeta.getListByKey(n.config.ref);return Object(r.jsx)(u.FieldContainer,null,Object(r.jsx)(u.FieldLabel,{htmlFor:v,field:n,errors:c}),Object(r.jsx)(u.FieldDescription,{text:n.config.adminDoc}),Object(r.jsx)(u.FieldInput,null,Object(r.jsx)("div",{css:D},Object(r.jsx)(g.a,{autoFocus:t,isMulti:j,field:n,value:a,errors:c,renderContext:i,htmlID:v,onChange:function(e){var t=n.config.many;o(t?e?e.map((function(e){return e.value})):[]:e?e.value:null)},isDisabled:d})),Object(r.jsx)(p.a,{list:y},Object(r.jsx)(C,{onCreate:function(e){o(j?(a||[]).concat(e):e)},field:n,item:l,list:s,CreateItemModal:f,isDisabled:d})),O&&m===O.listKey&&Object(r.jsx)(x,{many:j,onAddUser:function(e){o(j?(a||[]).concat(e):e)},value:a,listKey:O.listKey,isDisabled:d}),Object(r.jsx)(w,{field:n,value:a})))}}}]);